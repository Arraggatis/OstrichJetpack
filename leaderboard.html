<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="user-scalable=no">
  <title>TryCatch - Leaderboard</title>
  <link href="style/style.css" rel="stylesheet" type="text/css" />
  <link href="style/leaderboard-style.css" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <link href='https://fonts.googleapis.com/css?family=Montserrat:700,400' rel='stylesheet' type='text/css'>
  
  <script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
  
  <!-- Sounds library-->
  <script src="js/howlerjs/howler.js"></script>
  
  <!-- Menu and sounds scripts -->
  <script src="js/menus.js"></script>
  <script src="js/sounds.js"></script>
</head>

<body>

  <div id="wrapper">
    <!-- This is the main menu section -->
    <div id="main-menu">
      <div id="title">
        <h1>Leaderboard</h1>
         <?php 
            $servername = "mysql13.000webhost.com";
            $username = "a5796219_admin";
            $password = "ilikepie123";
            $dbname = "a5796219_hs";

            // Create connection
            $conn = new mysqli($servername, $username, $password, $dbname);
            // Check connection
            if ($conn->connect_error) {
                die("Connection failed: " . $conn->connect_error);
            } 
          ?>
      </div>
      <div id="score-table">
        <table id="scores">
          <tr>
            <td>Rank</td>
            <td>Name</td>
            <td>Score</td>
          </tr>
          <tr>
            <td>
              <p> 
                1. <br>
                2. <br>
                3. <br>
                4. <br>
                5. <br>
                6. <br>
                7. <br>
                8. <br>
                9. <br>
                10.<br>
              </p>
            </td>
            <td>  
              <?php

              //This is where it prints out the name
              //Refreshes the list to order the top 10
              $sql = "SELECT * FROM high_score ORDER by score DESC LIMIT 10";
              $result = $conn->query($sql);
                if ($result->num_rows > 0) {
                    // output data of each row
                    while($row = $result->fetch_assoc()) {
                        echo $row["name"]."<br>";
                    }
                }
              ?>
            </td>
            <td>
              <?php

              //This is where it prints out the score
              //Refreshes the list to order the top 10
                $sql = "SELECT * FROM high_score ORDER by score DESC LIMIT 10";
                $result = $conn->query($sql);
                if ($result->num_rows > 0) {
                    // output data of each row
                    while($row = $result->fetch_assoc()) {
                        echo $row["score"]."<br>";
                    }
                }
                $conn->close();
              ?>
            </td>
          </tr>
        </table>
      </div>
      <div id="back-to-main-menu">
        <button class="button main-menu-button">Main Menu</button>
      </div>
    </div>
  </div>
</body>

</html>